30-Nov-2013
ALTER TABLE takmicenja ADD COLUMN broj_e_ocena tinyint;
UPDATE takmicenja SET broj_e_ocena = broj_e_sudija;

ALTER TABLE nastup_na_spravi ADD COLUMN ekipa tinyint;
UPDATE nastup_na_spravi SET ekipa = 0;

ALTER TABLE sudije ADD COLUMN klub_id int references klubovi(klub_id);
ALTER TABLE sudija_ucesnik ADD COLUMN klub_id int references klubovi_ucesnici(klub_id);

ALTER TABLE sudija_ucesnik ADD COLUMN nastupa_za_drzavu bit;
UPDATE sudija_ucesnik SET nastupa_za_drzavu = 0;

ALTER TABLE sud_odbor_na_spravi ADD COLUMN has_d1_e1 bit;
UPDATE sud_odbor_na_spravi set has_d1_e1 = 0;

ALTER TABLE sud_odbor_na_spravi ADD COLUMN has_d2_e2 bit;
UPDATE sud_odbor_na_spravi set has_d2_e2 = 0;

ALTER TABLE takmicenja DROP COLUMN broj_e_sudija;
ALTER TABLE takmicenja DROP COLUMN broj_lin_sudija;
ALTER TABLE takmicenja DROP COLUMN broj_meraca_vremena;


10-Nov-2013

create table rezultati_sprava_finale_kupa_update (
	rez_takmicenje_id int references rezultatsko_takmicenje(rez_takmicenje_id),
	gimnasticar_id int references gimnasticari_ucesnici(gimnasticar_id),
	sprava tinyint,
	kval_status tinyint,
	constraint PK_rezultati_sprava_finale_kupa_update 
		primary key (rez_takmicenje_id, gimnasticar_id, sprava)
);

18-Okt-2012

ALTER TABLE takmicenja ADD COLUMN finale_kupa bit;

21-Okt-2012

ALTER TABLE takmicenja ADD COLUMN prvo_kolo_id int references takmicenja(takmicenje_id);
ALTER TABLE takmicenja ADD COLUMN drugo_kolo_id int references takmicenja(takmicenje_id);

28-Okt-2011

ALTER TABLE propozicije DROP COLUMN tak3_na_osnovu_tak1;
ALTER TABLE propozicije ADD COLUMN tak3_fin_ocena_je_zbir bit;
ALTER TABLE propozicije ADD COLUMN tak3_fin_ocena_je_max bit;
ALTER TABLE propozicije ADD COLUMN tak3_fin_ocena_je_prosek bit;
ALTER TABLE propozicije ADD COLUMN tak3_ne_racunaj_prosek bit;

ALTER TABLE propozicije DROP COLUMN tak2_na_osnovu_tak1;
ALTER TABLE propozicije ADD COLUMN tak2_fin_ocena_je_zbir bit;
ALTER TABLE propozicije ADD COLUMN tak2_fin_ocena_je_max bit;
ALTER TABLE propozicije ADD COLUMN tak2_fin_ocena_je_prosek bit;
ALTER TABLE propozicije ADD COLUMN tak2_ne_racunaj_prosek bit;

ALTER TABLE propozicije DROP COLUMN broj_gim_u_ekipi;
ALTER TABLE propozicije DROP COLUMN tak4_na_osnovu_tak1;
ALTER TABLE propozicije ADD COLUMN tak4_fin_ocena_je_zbir bit;
ALTER TABLE propozicije ADD COLUMN tak4_fin_ocena_je_max bit;
ALTER TABLE propozicije ADD COLUMN tak4_fin_ocena_je_prosek bit;
ALTER TABLE propozicije ADD COLUMN tak4_ne_racunaj_prosek bit;

